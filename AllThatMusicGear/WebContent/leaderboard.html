<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
     <link rel="icon" type="image/gif" href="media/ATMG_icon.gif" />
    <title>ATMG - Leaderboard</title>
   	<script src= "https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0-beta.2/angular.min.js"></script>
    <!-- 	MainPage JS App -->
	<script type="text/javascript" src="js/mainPageApp.js"></script>
	<script type="text/javascript" src="js/navBarController.js"></script>
	<script type="text/javascript" src="js/leaderboardController.js"></script>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <!-- Bootstrap -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/general.css" rel="stylesheet">

</head>
<body data-ng-app="mainPageApp">
	<!-- header directive -->
	<div data-ng-controller="mainController" data-ng-include="header.url"></div>
	
	<div class="container" data-ng-controller="leaderboardCtrl">
		<h2><strong>Leaderboard:</strong></h2>
		<strong>Total of {{userCount}} users</strong>
		<nav>
  			<ul class="pager">
			    <li><a href="#" data-ng-click="prevPage()" title="Show previous 20 users">Previous</a></li>
			    <li><strong>[ {{pageNum}} / {{maxPageNum}} ]</strong></li>
			    <li><a href="#" data-ng-click="nextPage()" title="Show nex 20 users">Next</a></li>
  			</ul>
		</nav>
		<table class="table">
 		<tr>
 			<th class="col-sm-2"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span>&nbsp; Rank</th>
	 		<th class="col-sm-3"><span class="glyphicon glyphicon-user"></span>&nbsp; User</th>
	 		<th class="col-sm-2"><span class="glyphicon glyphicon-headphones"></span>&nbsp; Rating</th>
	 		<th class="col-sm-5"><span class="glyphicon glyphicon-tags"></span>&nbsp; Expertise</th>
 		</tr>
 		<tr data-ng-repeat="user in allUsers">
 			<td class="col-sm-2">
 				<p><b>#{{(pageNum-1)*20 + $index +1}}</b></p>
 			</td>
 			<td class="col-sm-3">
 				<a class="userProfileLink" data-ng-href="profile.html#/user#{{user.nickName}}" title="See user's profile">
	 				<img src="#" data-ng-src="{{user.photoURL}}" class="img-circle leaderboardPhoto" alt="Missing Photo"></a>
	 			<a class="userProfileLink" data-ng-href="profile.html#/user#{{user.nickName}}" title="See user's profile">
	 				&nbsp;<strong>{{user.nickName}}</strong>
	 			</a>
 				
 			</td>
 			<td class="col-sm-2">
 				{{user.userRating | number:2}}
 			</td>
 			<td class="col-sm-5">
 				<span data-ng-repeat="topics in user.expertise" class="topic" title="See all questions related to this topic">
       				<a class="topicLink" data-ng-href="questions.html#/bytopic#{{topics}}" >{{topics}}</a>
	       		</span>
       		</td>
 		</tr>
 		</table>
	</div>
  </body>
</html>